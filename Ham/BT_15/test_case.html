<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test</title>
</head>
<style>
    table {
        width: 800px;
    }

    button {
        background-color: rgb(66, 133, 244);
        color: white;
    }
</style>
<body onload="displayProduct()">
<div>
    <h1><label for="addNameProduct"> New Product</label></h1>
    <input type="text" id="addNameProduct" placeholder="Name Product">
    <input type="number" id="addPriceProduct" placeholder="Price Product">
    <input type="number" id="addQuantityProduct" placeholder="Quantity Product">
    <button onclick='addProduct()'>Add</button>
</div>
<div id="edit" style="display: none">
    <h1><label for="editNameProduct"> Edit Product</label></h1>
    <input type="text" id="editNameProduct" placeholder="Name Product">
    <input type="number" id="editPriceProduct" placeholder="Price Product">
    <input type="number" id="editQuantityProduct" placeholder="Quantity Product">
    <button onclick="updateProduct()">Update</button>
</div>
<h1>Display All Product</h1>
<div id="display"></div>
</body>
</html>

<script>
    class Product {
        name
        price
        quantity

        constructor(name, price, quantity) {
            this.name = name
            this.price = price
            this.quantity = quantity
        }

        getName() {
            return this.name
        }

        getPrice() {
            return this.price
        }

        getQuantity() {
            return this.quantity
        }

        setName(name) {
            this.name = name
        }

        setPrice(price) {
            this.price = price
        }

        setQuantity(quantity) {
            this.quantity = quantity
        }
    }

    let arrayProduct = [
        product1 = new Product('Samsung Galaxy', 15000, 100),
        product2 = new Product('Samsung Galaxy A1', 5000, 20),
        product3 = new Product('Samsung Galaxy S1', 7000, 50),
        product4 = new Product('Samsung Galaxy B1', 9000, 13),
        product5 = new Product('Samsung Galaxy Fold 3', 55000, 22),
        product6 = new Product('Samsung Galaxy Fill 3', 33000, 34),
        product7 = new Product('Samsung Galaxy S23 Ultra', 27000, 45),
        product8 = new Product('Iphone 14', 33000, 50),
        product9 = new Product('Iphone 14 Pro', 35000, 42),
        product10 = new Product('Iphone 13 Pro Max', 40000, 11)
    ]

    function displayProduct() {
        let data = '<table>'
        data += '<tr>' +
            '<td><b>' + 'Product Name' + '</b></td>' +
            '<td><b>' + ' Price' + '</b></td>' +
            '<td><b>' + ' Quantity' + '</b></td>' +
            '<td></td>' +
            '<td style="color: red"><b>' + arrayProduct.length + ' Products' + '</b></td>' +
            '</tr>'
        for (let i = 0; i < arrayProduct.length; i++) {
            data += '<tr>' +
                '<td>' + arrayProduct[i].name + '</td>' +
                '<td>' + arrayProduct[i].price + '</td>' +
                '<td>' + arrayProduct[i].quantity + '</td>' +
                '<td><button onclick="editProduct(' + i + ')">Edit</button></td>' +
                '<td><button onclick="deleteProduct(' + i + ')">Delete</button></td>' +
                '</tr>'
        }
        data += '</table>'
        document.getElementById('display').innerHTML = data
    }

    function addProduct() {
        let nameProduct = document.getElementById('addNameProduct').value
        let priceProduct = document.getElementById('addPriceProduct').value
        let quantityProduct = document.getElementById('addQuantityProduct').value
        let input = new Product(nameProduct, priceProduct, quantityProduct)
        console.log(input)
        if (input.name === '') {
            alert('Please enter product name!')
        } else {
            arrayProduct.push(input)
        }
        document.getElementById('addNameProduct').value = ''
        document.getElementById('addPriceProduct').value = ''
        document.getElementById('addQuantityProduct').value = ''
        displayProduct()
    }

    function deleteProduct(id) {
        arrayProduct.splice(id, 1)
        displayProduct()
    }

    let index;

    function editProduct(id) {
        index = id
        document.getElementById('edit').style.display = 'block'
        document.getElementById('editNameProduct').value = arrayProduct[id].name
        document.getElementById('editPriceProduct').value = arrayProduct[id].price
        document.getElementById('editQuantityProduct').value = arrayProduct[id].quantity
    }

    function updateProduct() {
        let updateName = document.getElementById('editNameProduct').value
        let updatePrice = document.getElementById('editPriceProduct').value
        let updateQuantity = document.getElementById('editQuantityProduct').value
        if (updateName === '') {
            alert('Please add product name!')
        } else {
            arrayProduct[index].name = updateName
            arrayProduct[index].price = updatePrice
            arrayProduct[index].quantity = updateQuantity
        }
        document.getElementById('edit').style.display = 'none'
        displayProduct()
    }
</script>