<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý sản phẩm</title>
</head>
<style>
    table, tr, td {
        border-collapse: collapse;
        background-color: rgb(242, 242, 242);
    }

    table {
        width: 600px;
    }

    td.nameProduct {
        width: 300px;
        height: 35px;
        font-size: 15px
    }

    td {
        width: 200px
    }

    button {
        background-color: rgb(80, 175, 80);
        color: white;
    }
</style>
<body onload="displayProduct()">
<table>
    <tr>
        <td class="nameProduct"><label for="newProduct"><h2>Add New Product</h2></label> </td>
        <td><input type="text" id="newProduct" placeholder="New Product"></td>
        <td>
            <button onclick="addNewProduct()">Add</button>
        </td>
    </tr>
    <tr style="display: none" id="edit">
        <td class="nameProduct"><label for="editProduct"><h2>Edit Product</h2></label></td>
        <td><input type="text" id="editProduct" placeholder="Edit Product"></td>
        <td>
            <button onclick="updateProduct()">Update</button>
        </td>
    </tr>
    <tr>
        <td class="nameProduct"><h2>Display All Product</h2></td>
        <td></td>
        <td id="count"></td>
    </tr>
</table>
<div id="display"></div>
</body>
</html>
<script>
    let arrayProduct = ['Sony Xperia', 'Samsung Galaxy', 'Nokia 6', 'Xiaomi Redmi Note 4',
        'Apple iPhone 6S', 'Xiaomi Mi 5s Plus', 'Apple iPhone 8 Plus', 'Fujitsu F-04E', 'Oppo A71']

    function addNewProduct() {
        let input = document.getElementById('newProduct').value
        if (input !== '') {
            arrayProduct.push(input)
            alert('Đã thêm sảm phẩm ' + input + ' vào danh sách.')
        }
        document.getElementById('newProduct').value = ''
        displayProduct()
    }

    function Delete(id) {
        arrayProduct.splice(id, 1)
        displayProduct()
    }

    let index;

    function edit(id) {
        index = id
        document.getElementById('editProduct').value = arrayProduct[id]
        document.getElementById('edit').style.display = 'table-row'
    }

    function updateProduct() {
        let update = document.getElementById('editProduct').value
        if (update !== '') {
            arrayProduct[index] = update
            alert('Bạn đã sửa sản phầm thành công')
        }
        document.getElementById('edit').style.display = 'none'
        displayProduct()
    }

    function displayProduct() {
        data = '<table>'
        data += '<tr>'+'<td colspan="2"><h3>Product Name</h3></td>'+'<td><b>'+ arrayProduct.length + ' product '+ '</b></td>'+'</tr>'
        for (let i = 0; i < arrayProduct.length; i++) {
            data += '<tr>'
            data += '<td class="nameProduct">' + arrayProduct[i] + '</td>'
            data += '<td><button onclick="edit(' + i + ')">Edit</button></td>'
            data += '<td><button onclick="Delete(' + i + ')">Delete</button></td>'
            data += '<tr>'
        }
        data += '</table>'
        document.getElementById('display').innerHTML = data
    }
</script>